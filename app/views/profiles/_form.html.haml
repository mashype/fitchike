= simple_form_for @profile, html: { multipart: true } do |f|
	- if @profile.errors.any?
		#errors
			%p
				= @profile.errors.count
				Prevented this profile from saving
			%ul
				- @profile.errors.full_message.each do |msg|
					%li= msg
	.panel-body
		.col-md-8
			= f.input :username, input_html: { class: 'form-control'}
			= f.input :bio, input_html: { class: 'form-control'}
			= f.input :zip, input_html: { class: 'form-control'}
			= f.input :trainer
			= f.association :gender, label_method: :gender, value_method: :id, include_blank: false
		.col-md-4
			= image_tag @profile.avatar.url(:medium)
			= f.input :avatar, input_html: { class: 'form-control'}

	- if @profile.trainer == true && user_signed_in?
		/ Nav tabs
		%ul.nav.nav-tabs{:role => "tablist"}
			%li.active{:role => "presentation"}
				%a{"aria-controls" => "locations", "data-toggle" => "tab", :href => "#location_update", :role => "tab"} List Workout Locations
			%li{:role => "presentation"}
				%a{"aria-controls" => "workouts", "data-toggle" => "tab", :href => "#workout_update", :role => "tab"} Areas of Expertise
			%li{:role => "presentation"}
				%a{"aria-controls" => "certifications", "data-toggle" => "tab", :href => "#certification_update", :role => "tab"} Certifications				
		/ Tab panes
		.tab-content
			#location_update.tab-pane.active{:role => "tabpanel"}
				%fieldset#profile-locations
					%ol
						= f.simple_fields_for :profile_locations do |profilelocation|
							= render 'profile_location_fields', f: profilelocation
					= link_to_add_association 'Add Additional 	Locations', f, :profile_locations, class: "btn btn-default add-button", 'data-association-insertion-node' => "#profile-locations ol", 'data-association-insertion-method' => "append", :wrap_object => Proc.new {|profile_location| profile_location.build_location; profile_location }				
			#workout_update.tab-pane{:role => "tabpanel"} 	
				%fieldset#profile-workouts
					%ol
						= f.simple_fields_for :profile_workouts do |profileworkout|
							= render 'profile_workout_fields', f: profileworkout
					= link_to_add_association 'Add Additional Workout Types', f, :profile_workouts, class: "btn btn-default add-button", 'data-association-insertion-node' => "#profile-workouts ol", 'data-association-insertion-method' => "append", :wrap_object => Proc.new {|profile_workout| profile_workout.build_workout; profile_workout }
			#certification_update.tab-pane{:role => "tabpanel"} 	
				%fieldset#profile-certifications
					%ol
						= f.simple_fields_for :profile_certifications do |profilecertification|
							= render 'profile_certification_fields', f: profilecertification
					= link_to_add_association 'Add Additional Certifications', f, :profile_certifications, class: "btn btn-default add-button", 'data-association-insertion-node' => "#profile-certifications ol", 'data-association-insertion-method' => "append", :wrap_object => Proc.new {|profile_certification| profile_certification.build_certification; profile_certification }

	.form-actions
		= f.button :submit

